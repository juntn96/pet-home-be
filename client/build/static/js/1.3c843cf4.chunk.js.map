{"version":3,"sources":["components/product/AddProduct.js"],"names":["toastColor","background","text","AddProduct","props","_this","Object","_Users_nguythang_Desktop_CP_coding_pet_home_be_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_Users_nguythang_Desktop_CP_coding_pet_home_be_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","_Users_nguythang_Desktop_CP_coding_pet_home_be_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","getAllProductCategories","ownerId","auth","user","user_id","axios","get","concat","then","res","type","data","productParentCategories","length","_id","setState","listTypeProductCategory","typeProductCategory","isLoading","onChangeTypeProduct","e","target","value","onChange","_Users_nguythang_Desktop_CP_coding_pet_home_be_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","name","_clearMsg","refs","nameValidate","innerHTML","nameValidate1","classList","remove","priceValidate","priceValidate1","imageValidate","typeProductValidate","onSubmit","preventDefault","state","price","images","add","imagesUrl","map","item","url","newProduct","typeId","description","createProduct","history","onCancel","push","renderOptionItem","index","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","key","toast","notify","createShowQueue","onChangeU","errs","files","Array","from","formData","FormData","types","forEach","file","i","every","size","append","err","uploading","fetch","method","body","ok","json","catch","message","filter","id","image","public_id","removeImage","console","log","onError","loadingU","_this2","_this3","_this$state","className","reactstrap__WEBPACK_IMPORTED_MODULE_12__","xs","sm","row","htmlFor","react_notify_toast__WEBPACK_IMPORTED_MODULE_14___default","_uploadImage_WakeUp__WEBPACK_IMPORTED_MODULE_18__","_uploadImage_Spinner__WEBPACK_IMPORTED_MODULE_15__","_uploadImage_Images__WEBPACK_IMPORTED_MODULE_16__","_uploadImage_Buttons__WEBPACK_IMPORTED_MODULE_17__","content","style","display","ref","classnames","placeholder","addonType","_common_Spinner__WEBPACK_IMPORTED_MODULE_13__","rows","marginTop","col","md","block","color","onClick","nextProps","prevState","errors","Component","connect","product","getProductParentCategories","getProductDetailById","updateProduct","withRouter"],"mappings":"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","file":"static/js/1.3c843cf4.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { createProduct, getProductParentCategories, getProductDetailById, updateProduct } from '../../store/actions/productAction';\nimport { withRouter } from 'react-router-dom';\nimport classnames from 'classnames';\nimport axios from 'axios';\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  Col,\n  FormGroup,\n  Input,\n  Label,\n  InputGroupAddon,\n  InputGroupText,\n  InputGroup,\n  Button\n} from 'reactstrap';\nimport Spinner from '../common/Spinner'\nimport Notifications, { notify } from 'react-notify-toast'\nimport SpinnerU from './../uploadImage/Spinner'\nimport Images from './../uploadImage/Images'\nimport Buttons from './../uploadImage/Buttons'\nimport WakeUp from './../uploadImage/WakeUp'\nimport './../uploadImage/UploadImage.css'\n\nconst toastColor = {\n  background: '#505050',\n  text: '#fff'\n}\n\nclass AddProduct extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      description: '',\n      price: '',\n      typeProductCategory: '',\n      loadingU: true,\n      uploading: false,\n      images: [],\n      isLoading: true,\n      listTypeProductCategory: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getAllProductCategories();\n    fetch(`/api/wake-up`)\n      .then(res => {\n        if (res.ok) {\n          return this.setState({ loadingU: false })\n        }\n        const msg = 'Something is went wrong with server'\n        this.toast(msg, 'custom', 2000, toastColor)\n      })\n  }\n\n  static getDerivedStateFromProps(nextProps, prevState) {\n    if (nextProps.errors) {\n      return { errors: nextProps.errors };\n    }\n    else return null;\n  }\n\n  getAllProductCategories = () => {\n    const ownerId = this.props.auth.user.user_id\n    axios\n      .get(`/api/product/category/${ownerId}`)\n      .then(res => {\n        let type = \"\";\n        if (res.data.productParentCategories.length > 0) type = res.data.productParentCategories[0]._id\n        this.setState({\n          listTypeProductCategory: res.data.productParentCategories,\n          typeProductCategory: type,\n          isLoading: false\n        })\n      }\n      )\n  }\n\n  onChangeTypeProduct = e => {\n    this.setState({ typeProductCategory: e.target.value });\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  _clearMsg = () => {\n    this.refs.nameValidate.innerHTML = '';\n    this.refs.nameValidate1.classList.remove('is-invalid')\n    this.refs.priceValidate.innerHTML = '';\n    this.refs.priceValidate1.classList.remove('is-invalid')\n    this.refs.imageValidate.innerHTML = ''\n    this.refs.typeProductValidate.innerHTML = '';\n  }\n  onSubmit = e => {\n    e.preventDefault();\n    this._clearMsg();\n    if (this.state.name === ''\n      || this.state.price === ''\n      || this.state.images.length === 0\n      || this.state.typeProductCategory === '') {\n      if (this.state.name === '') { this.refs.nameValidate.innerHTML = 'Vui lòng nhập tên sản phẩm'; this.refs.nameValidate1.classList.add('is-invalid') }\n      if (this.state.price === '') { this.refs.priceValidate.innerHTML = 'Vui lòng nhập giá sản phẩm'; this.refs.priceValidate1.classList.add('is-invalid') }\n      if (this.state.images.length === 0) { this.refs.imageValidate.innerHTML = 'Vui lòng tải ảnh ' }\n      if (this.state.typeProductCategory === '') { this.refs.typeProductValidate.innerHTML = 'Vui lòng tạo thêm thể loại'; }\n      return false;\n    }\n    let imagesUrl = this.state.images.map(item => item.url);\n    const newProduct = {\n      name: this.state.name,\n      ownerId: this.props.auth.user.user_id,\n      typeId: this.state.typeProductCategory,\n      description: this.state.description,\n      price: this.state.price,\n      images: imagesUrl\n    };\n    this.props.createProduct(newProduct, this.props.history);\n  }\n\n  onCancel = (e) => {\n    this.props.history.push('/product');\n  }\n\n  renderOptionItem = (item, index) => {\n    return (\n      <option key={index} value={item._id}>{item.name}</option>\n    );\n  }\n\n  toast = notify.createShowQueue()\n\n  onChangeU = e => {\n    const errs = []\n    const files = Array.from(e.target.files)\n\n    if (files.length > 3) {\n      const msg = 'Only 3 images can be uploaded at a time'\n      return this.toast(msg, 'custom', 2000, toastColor)\n    }\n\n    const formData = new FormData()\n    const types = ['image/png', 'image/jpeg', 'image/gif']\n\n    files.forEach((file, i) => {\n\n      if (types.every(type => file.type !== type)) {\n        errs.push(`'${file.type}' is not a supported format`)\n      }\n\n      if (file.size > 10000000) {\n        errs.push(`'${file.name}' is too large, please pick a smaller file`)\n      }\n\n      formData.append(i, file)\n    })\n\n    if (errs.length) {\n      return errs.forEach(err => this.toast(err, 'custom', 2000, toastColor))\n    }\n\n    this.setState({ uploading: true })\n\n    fetch(`/api/image-upload`, {\n      method: 'POST',\n      body: formData\n    })\n      .then(res => {\n        if (!res.ok) {\n          throw res\n        }\n        return res.json()\n      })\n      .then(images => {\n        this.setState({\n          uploading: false,\n          images\n        })\n      })\n      .catch(err => {\n        err.json().then(e => {\n          this.toast(e.message, 'custom', 2000, toastColor)\n          this.setState({ uploading: false })\n        })\n      })\n  }\n\n  filter = id => {\n    return this.state.images.filter(image => image.public_id !== id)\n  }\n\n  removeImage = id => {\n    this.setState({ images: this.filter(id) }, () => console.log(this.state.images))\n  }\n\n  onError = id => {\n    this.toast('Oops, something went wrong', 'custom', 2000, toastColor)\n    this.setState({ images: this.filter(id) })\n  }\n\n  render() {\n    const { loadingU, uploading, images, listTypeProductCategory } = this.state;\n    const content = () => {\n      switch (true) {\n        case loadingU:\n          return <WakeUp />\n        case uploading:\n          return <SpinnerU />\n        case images.length > 0:\n          return <Images\n            images={images}\n            removeImage={this.removeImage}\n            onError={this.onError}\n          />\n        default:\n          return <Buttons onChange={this.onChangeU} />\n      }\n    }\n    return (\n      <div className=\"addProduct\">\n        <div className=\"row\">\n          <div className=\"col-md-8\">\n            <Col xs=\"12\" sm=\"12\">\n              <Card>\n                <CardHeader>\n                  <strong>Add Product</strong>\n                </CardHeader>\n                <CardBody>\n                  <FormGroup row className=\"my-0 mt-2\">\n                    <Col xs=\"7\">\n                      <Label htmlFor=\"textarea-input\">Ảnh</Label>\n                      <div className='container'>\n                        <Notifications />\n                        <div className='buttons'>\n                          {content()}\n                        </div>\n                      </div>\n                      <div style={{ display: 'block' }} ref='imageValidate' className=\"invalid-feedback\"></div>\n                    </Col>\n                  </FormGroup>\n                  <FormGroup>\n                    <Label htmlFor=\"company\">Tên sản phẩm</Label>\n                    <input ref='nameValidate1'\n                      type=\"text\"\n                      className={classnames('form-control form-control-lg')}\n                      placeholder=\"Tên sản phẩm\"\n                      name=\"name\"\n                      value={this.state.name}\n                      onChange={this.onChange}\n                    />\n                    <div style={{ display: 'block' }} ref='nameValidate' className=\"invalid-feedback\"></div>\n                  </FormGroup>\n                  <FormGroup row className=\"my-0\">\n                    <Col xs=\"6\">\n                      <Label htmlFor=\"vat\">Giá</Label>\n                      <div className=\"controls\">\n                        <InputGroup className=\"input-prepend\">\n                          <input ref='priceValidate1'\n                            type=\"number\"\n                            className={classnames('form-control form-control-lg')}\n                            placeholder=\"Giá\"\n                            name=\"price\"\n                            value={this.state.price}\n                            onChange={this.onChange}\n                          />\n                          <InputGroupAddon addonType=\"append\">\n                            <InputGroupText>vnđ</InputGroupText>\n                          </InputGroupAddon>\n                        </InputGroup>\n                        <div ref='priceValidate' style={{ display: 'block' }} className=\"invalid-feedback\"></div>\n                      </div>\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row className=\"my-0 mt-3\">\n                    <Col xs=\"6\">\n                      <Label htmlFor=\"ccyear\">Loại</Label>\n                      {listTypeProductCategory === '' || this.state.isLoading ? <Spinner /> :\n                        <Input\n                          className=\"form-control form-control-lg\"\n                          type=\"select\"\n                          name=\"typeProductCategory\"\n                          id=\"ccyear\"\n                          value={this.state.typeProductCategory}\n                          onChange={this.onChangeTypeProduct}\n                        >\n                          {listTypeProductCategory.map((item, index) => this.renderOptionItem(item, index))}\n                        </Input>\n                      }\n                      <div style={{ display: 'block' }} ref='typeProductValidate' className=\"invalid-feedback\"></div>\n                    </Col>\n                  </FormGroup>\n                  <FormGroup row className=\"my-0 mt-3\">\n                    <Col xs=\"7\">\n                      <Label htmlFor=\"textarea-input\">Mô tả</Label>\n                      <textarea\n                        className=\"form-control form-control-lg\"\n                        name=\"description\"\n                        id=\"textarea-input\"\n                        rows=\"7\"\n                        placeholder=\"Nội dung mô tả...\"\n                        value={this.state.description}\n                        onChange={this.onChange}>\n                      </textarea>\n                    </Col>\n                  </FormGroup>\n                  <div style={{ marginTop: 20 }}>\n                    <FormGroup row className=\"my-0\">\n                      <Col col=\"6\" sm=\"4\" md=\"3\" className=\"mb-3 mb-xl-0\">\n                        <Button block color=\"primary\" onClick={this.onSubmit}>Thêm sản phẩm</Button>\n                      </Col>\n                      <Col col=\"5\" sm=\"4\" md=\"2\" className=\"mb-xl-0\">\n                        <Button block color=\"secondary\" onClick={this.onCancel}>Hủy</Button>\n                      </Col>\n                    </FormGroup>\n                  </div>\n                </CardBody>\n              </Card>\n            </Col>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors,\n  product: state.product\n});\n\nexport default connect(mapStateToProps, { createProduct, getProductParentCategories, getProductDetailById, updateProduct })(withRouter(AddProduct));\n\n\n\n"],"sourceRoot":""}